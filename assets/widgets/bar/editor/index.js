"use strict";(self.webpackChunkfooconvert=self.webpackChunkfooconvert||[]).push([[793],{585:function(e,o,n){var t=n(997),s=n(715),i=n(677),l=window.wp.plugins,r=n(908),a="fc/bar",c=n(723),d=n(87),h=n(452),u=n(942),g=n.n(u),p=n(790);const v="fc--bar";var f=e=>{var o;const{isSelected:n,clientId:t,attributes:{styles:i={},position:l},defaults:a}=e,c=(0,h.A)(t),d=n||c,u=(0,s.useBlockProps)({className:g()(v,{"show-inserter":d,[`position-${l}`]:"bottom"===l})}),{left:f,right:_}=(0,r.getBoxUnitSizes)(null!==(o=i?.dimensions?.margin)&&void 0!==o?o:a?.styles?.dimensions?.margin),x=(0,r.useDimensionStyle)(i?.dimensions,["margin"]),b=(0,r.useColorStyle)(i?.color,{text:"color"}),{children:j,...C}=(0,s.useInnerBlocksProps)({className:`${v}__container`,style:{...x,...b,width:`calc( 100% - ${f} - ${_} )`},orientation:"horizontal"});return(0,p.jsx)("div",{...u,children:(0,p.jsx)("div",{...C,children:j})})},_=n(427),x=n(380),b=n(136),j=n(656),C=e=>{const{clientId:o,attributes:{styles:n,trigger:t,lockTrigger:i,closeAnchor:l,hideButton:a,transitions:h,position:u,pagePush:g},setAttributes:v,defaults:f}=e,[C,k]=(0,d.useState)((0,x.A)(l,!0)),m=e=>{const o="object"==typeof e?{...null!=n?n:{},...e}:void 0;v({styles:(0,b.A)(o)})},P=[{key:"background",label:(0,c.__)("Background","fooconvert"),enableAlpha:!0,enableGradient:!0},{key:"text",label:(0,c.__)("Text","fooconvert")}],B=[{value:"top",label:(0,c.__)("Top","fooconvert")},{value:"bottom",label:(0,c.__)("Bottom","fooconvert")}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(s.InspectorControls,{group:"settings",children:[(0,p.jsx)(_.PanelBody,{title:(0,c.__)("Position","fooconvert"),children:(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(r.ToggleSelectControl,{label:(0,c.__)("Position","fooconvert"),hideLabelFromVision:!0,value:null!=u?u:f?.position,onChange:e=>v({position:e!==f?.position?e:void 0}),options:B,help:(0,c.__)("Choose where to display the bar within the page.","fooconvert")})})}),(0,p.jsxs)(_.PanelBody,{title:(0,c.__)("Behavior","fooconvert"),children:[(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(_.ToggleControl,{label:(0,c.__)("Enable transitions","fooconvert"),help:(0,c.__)("Choose if transitions are used when toggling the bar.","fooconvert"),checked:null!=h?h:f?.transitions,onChange:e=>v({transitions:e!==f?.transitions?e:void 0})})}),(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(_.ToggleControl,{label:(0,c.__)("Enable page push","fooconvert"),help:(0,c.__)('Choose if the page is "pushed", either up or down, based on the bar height and position.',"fooconvert"),checked:null!=g?g:f?.pagePush,onChange:e=>v({pagePush:e!==f?.pagePush?e:void 0})})})]}),(0,p.jsx)(r.OpenTriggerPanel,{value:t,onChange:e=>(e=>v({trigger:e}))(e),locked:i}),(0,p.jsxs)(_.PanelBody,{title:(0,c.__)("Close Trigger","fooconvert"),children:[(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(_.ToggleControl,{label:(0,c.__)("Hide close button","fooconvert"),help:(0,c.__)("Hide the default close button.","fooconvert"),checked:null!=a?a:f?.hideButton,onChange:e=>v({hideButton:e!==f?.hideButton?e:void 0})})}),(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(_.ToggleControl,{label:(0,c.__)("Close on anchor click","fooconvert"),help:(0,c.__)("Clicking specific anchors closes the notification.","fooconvert"),checked:C,onChange:e=>k(e)})}),C&&(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(_.TextControl,{label:(0,c.__)("Anchor","fooconvert"),help:(0,c.__)("Add an anchor to a button block and then insert the same value here to close the notification on click.","fooconvert"),value:null!=l?l:"",onChange:e=>(e=>v({closeAnchor:(0,x.A)(e,!0)?e:void 0}))(""!==e?e:void 0)})})]})]}),(0,p.jsx)(s.InspectorControls,{group:"advanced",children:(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(r.InnerBlocksButton,{targetClientId:o,prepareAttributes:(e,o)=>{const{clientId:n,postId:t,...s}=e;return{...s,variation:o}},variant:"secondary",children:(0,c.__)("Make Variation","fooconvert")})})}),(0,p.jsxs)(s.InspectorControls,{group:"styles",children:[(0,p.jsx)(r.ColorToolsPanel,{panelId:o,value:n?.color,onChange:e=>m({color:e}),options:P,defaults:f?.styles?.color}),(0,p.jsx)(r.BorderToolsPanel,{panelId:o,value:n?.border,onChange:e=>m({border:e})}),(0,p.jsx)(r.DimensionToolsPanel,{panelId:o,value:n?.dimensions,onChange:e=>m({dimensions:e}),controls:["margin","padding","gap"],defaults:f?.styles?.dimensions})]}),(0,p.jsx)(j.PluginDocumentSettingPanel,{name:"fooconvert-display-rules",title:(0,c.__)("Display Rules","fooconvert"),children:(0,p.jsx)(_.PanelRow,{children:(0,p.jsx)(r.DisplayRulesButton,{variant:"secondary",label:(0,c.__)("Edit Rules","fooconvert")})})})]})};const k={styles:{color:{background:"#ffffff",text:"#000000"},dimensions:{padding:"16px",gap:"16px"}},position:"top",hideButton:!1,transitions:!1,pagePush:!1,lockTrigger:!1,closeAnchor:""},m=e=>{const{clientId:o,setAttributes:n,context:{postId:t},attributes:{clientId:s,postId:i}}=e;(0,d.useEffect)((()=>{o!==s&&n({clientId:o})}),[o,s]),(0,d.useEffect)((()=>{t!==i&&n({postId:t})}),[t,i]);const l={...e,defaults:k};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f,{...l}),(0,p.jsx)(C,{...l})]})},P=e=>(0,p.jsx)(r.VariationPicker,{label:(0,c.__)("Choose a template","fooconvert"),instructions:(0,c.__)("Select a template to start with.","fooconvert"),reset:{variation:void 0},media:"icon",...e});const{variations:B}=(0,r.getBlockSettings)(a);(0,l.registerPlugin)("fc-custom-editor",{render:r.CustomEditorPlugin}),(0,l.registerPlugin)("fc-override-template-validity",{render:r.OverrideTemplateValidityPlugin}),(0,t.registerBlockType)(a,{icon:()=>(0,p.jsx)(i.A,{icon:(0,p.jsx)("svg",{viewBox:"0 0 24 24",children:(0,p.jsx)("path",{d:"M18.984 18v-9.984h-13.969v9.984h13.969zM18.984 3.984q0.844 0 1.43 0.586t0.586 1.43v12q0 0.797-0.609 1.406t-1.406 0.609h-13.969q-0.844 0-1.43-0.586t-0.586-1.43v-12q0-0.844 0.586-1.43t1.43-0.586h13.969z"})})}),edit:e=>{const{clientId:o}=e,{hasInnerBlocks:n,innerBlocks:t}=(0,r.useInnerBlocks)(o),s=n?m:P;return(0,p.jsx)("div",{className:"fc--bar__editor",children:(0,p.jsx)(s,{...e,hasInnerBlocks:n,innerBlocks:t})})},save:()=>(0,p.jsx)(s.InnerBlocks.Content,{}),variations:B})},908:function(e){e.exports=window.FooConvert.editor}},function(e){e(e.s=585)}]);